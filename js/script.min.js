function wowTokenAjax(){return $.ajax({dataType:"json",url:"https://wowtoken.info/snapshot.json",success:function(t){},error:function(t,e,i){console.log("AJAX Error: "),console.log(e),console.log(i)}})}function shopAjax(){return $.ajax({dataType:"json",url:"items.json",success:function(t){},error:function(t,e,i){console.log("AJAX Error: "),console.log(e),console.log(i)}})}function countriesAjax(){return $.ajax({dataType:"json",url:"countries.json",success:function(t){},error:function(t,e,i){console.log("AJAX Error: "),console.log(e),console.log(i)}})}function getTokenPrice(t,e){return e?tokenData[t].raw.buy:tokenData[t].formatted.buy}function updateTokenPriceDisplay(t){var e=getTokenPrice(t,!1);return $("#currentValue").text(e),e}function computeTokensNeeded(t,e){for(var i in e)if(e.hasOwnProperty(i))for(var o=e[i],n=0;n<o.length;++n){var s=o[n];s[3]=Math.ceil(s[1]/15),s[2]=s[3]*t}}function initDataTables(t,e){$("#charServices").DataTable({columns:[{title:"Item",name:"item"},{title:"Cost ($)",name:"cost",render:function(t){return t.toFixed(2)}},{title:"Gold",name:"gold",defaultContent:0,render:function(t){return t.format()}},{title:"Tokens Needed",name:"tokens",defaultContent:0}],data:e.charServices,info:!1,paging:!1,searching:!1})}var tokenData,shopData,countriesData;$(document).ready(function(){$.when(wowTokenAjax(),shopAjax(),countriesAjax()).done(function(t,e,i){var o,n;tokenData=t[0],shopData=e[0],countriesData=i[0],console.log(countriesData),o=$("#region").val(),n=getTokenPrice(o,!0),updateTokenPriceDisplay(o),computeTokensNeeded(n,shopData),initDataTables(tokenData,shopData)}),$("#region").change(function(){updateTokenPrice(tokenData)})});